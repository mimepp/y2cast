// Copyright Google Inc. All Rights Reserved.
(function(){'use strict';var g,h=this,ba=function(a){a=a.split(".");for(var b=h,c;c=a.shift();)if(null!=b[c])b=b[c];else return null;return b},k=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";
if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},m=function(a){return"string"==typeof a},ca=function(a,b,c){return a.call.apply(a.bind,arguments)},da=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);
Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},n=function(a,b,c){n=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ca:da;return n.apply(null,arguments)},ea=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}},fa=Date.now||function(){return+new Date},p=function(a,b){var c=a.split("."),d=h;c[0]in d||!d.execScript||
d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b},q=function(a,b){function c(){}c.prototype=b.prototype;a.n=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Pb=function(a,c,f){return b.prototype[c].apply(a,Array.prototype.slice.call(arguments,2))}};
Function.prototype.bind=Function.prototype.bind||function(a,b){if(1<arguments.length){var c=Array.prototype.slice.call(arguments,1);c.unshift(this,a);return n.apply(null,c)}return n(this,a)};var r=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,r);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};q(r,Error);r.prototype.name="CustomError";var ga=function(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")},na=function(a){if(!ha.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(ia,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(ja,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(ka,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(la,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(ma,"&#39;"));return a},ia=/&/g,ja=/</g,ka=/>/g,la=/"/g,ma=/'/g,ha=/[&<>"']/,oa=function(a,
b){return a<b?-1:a>b?1:0};var pa=function(a,b){b.unshift(a);r.call(this,ga.apply(null,b));b.shift()};q(pa,r);pa.prototype.name="AssertionError";var s=function(a,b,c){if(!a){var d="Assertion failed";if(b)var d=d+(": "+b),e=Array.prototype.slice.call(arguments,2);throw new pa(""+d,e||[]);}},qa=function(a,b){throw new pa("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};var ra=Array.prototype,sa=ra.indexOf?function(a,b,c){s(null!=a.length);return ra.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(m(a))return m(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},ta=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]};var t=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},ua=function(a){var b={},c;for(c in a)b[c]=a[c];return b},va="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),wa=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<va.length;f++)c=va[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var u,xa,ya,za,Aa=function(){return h.navigator?h.navigator.userAgent:null};za=ya=xa=u=!1;var w;if(w=Aa()){var Ba=h.navigator;u=0==w.lastIndexOf("Opera",0);xa=!u&&(-1!=w.indexOf("MSIE")||-1!=w.indexOf("Trident"));ya=!u&&-1!=w.indexOf("WebKit");za=!u&&!ya&&!xa&&"Gecko"==Ba.product}var Ca=u,x=xa,Da=za,y=ya,Ea=function(){var a=h.document;return a?a.documentMode:void 0},Fa;
t:{var Ga="",z;if(Ca&&h.opera)var Ha=h.opera.version,Ga="function"==typeof Ha?Ha():Ha;else if(Da?z=/rv\:([^\);]+)(\)|;)/:x?z=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:y&&(z=/WebKit\/(\S+)/),z)var Ia=z.exec(Aa()),Ga=Ia?Ia[1]:"";if(x){var Ja=Ea();if(Ja>parseFloat(Ga)){Fa=String(Ja);break t}}Fa=Ga}
var Ka=Fa,La={},A=function(a){var b;if(!(b=La[a])){b=0;for(var c=String(Ka).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var l=c[f]||"",v=d[f]||"",I=/(\d*)(\D*)/g,aa=/(\d*)(\D*)/g;do{var D=I.exec(l)||["","",""],N=aa.exec(v)||["","",""];if(0==D[0].length&&0==N[0].length)break;b=oa(0==D[1].length?0:parseInt(D[1],10),0==N[1].length?0:parseInt(N[1],10))||oa(0==D[2].length,0==N[2].length)||oa(D[2],
N[2])}while(0==b)}b=La[a]=0<=b}return b},Ma=h.document,Na=Ma&&x?Ea()||("CSS1Compat"==Ma.compatMode?parseInt(Ka,10):5):void 0;var Pa=function(a){return Oa(a||arguments.callee.caller,[])},Oa=function(a,b){var c=[];if(0<=sa(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(Qa(a)+"(");for(var d=a.arguments,e=0;e<d.length;e++){0<e&&c.push(", ");var f;f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=Qa(f))?f:"[fn]";break;default:f=typeof f}40<f.length&&(f=f.substr(0,40)+"...");
c.push(f)}b.push(a);c.push(")\n");try{c.push(Oa(a.caller,b))}catch(l){c.push("[exception trying to get caller]\n")}}else a?c.push("[...long stack...]"):c.push("[end]");return c.join("")},Qa=function(a){if(Ra[a])return Ra[a];a=String(a);if(!Ra[a]){var b=/function ([^\(]+)/.exec(a);Ra[a]=b?b[1]:"[Anonymous]"}return Ra[a]},Ra={};var B=function(a,b,c,d,e){this.reset(a,b,c,d,e)};B.prototype.ra=null;B.prototype.qa=null;var Sa=0;B.prototype.reset=function(a,b,c,d,e){"number"==typeof e||Sa++;this.Pa=d||fa();this.A=a;this.Ha=b;this.Oa=c;delete this.ra;delete this.qa};B.prototype.va=function(){return this.A};B.prototype.ya=function(a){this.A=a};var C=function(a){this.Ua=a};C.prototype.da=null;C.prototype.A=null;C.prototype.xa=null;C.prototype.T=null;var E=function(a,b){this.name=a;this.value=b};E.prototype.toString=function(){return this.name};
var Ta=new E("SHOUT",1200),Ua=new E("SEVERE",1E3),Va=new E("WARNING",900),Wa=new E("INFO",800),Xa=new E("CONFIG",700),Ya=new E("FINE",500),Za=new E("FINER",400),$a=[new E("OFF",Infinity),Ta,Ua,Va,Wa,Xa,Ya,Za,new E("FINEST",300),new E("ALL",0)],F=null,ab=function(a){if(!F){F={};for(var b=0,c;c=$a[b];b++)F[c.value]=c,F[c.name]=c}if(a in F)return F[a];for(b=0;b<$a.length;++b)if(c=$a[b],c.value<=a)return c;return null};C.prototype.getName=function(){return this.Ua};C.prototype.getParent=function(){return this.da};
C.prototype.ya=function(a){this.A=a};C.prototype.va=function(){return this.A};var bb=function(a){if(a.A)return a.A;if(a.da)return bb(a.da);qa("Root logger has no level set.");return null};
C.prototype.log=function(a,b,c){if(a.value>=bb(this).value)for("function"==k(b)&&(b=b()),a=this.Db(a,b,c),b="log:"+a.Ha,h.console&&(h.console.timeStamp?h.console.timeStamp(b):h.console.markTimeline&&h.console.markTimeline(b)),h.msWriteProfilerMark&&h.msWriteProfilerMark(b),b=this;b;){c=b;var d=a;if(c.T)for(var e=0,f=void 0;f=c.T[e];e++)f(d);b=b.getParent()}};
C.prototype.Db=function(a,b,c){var d=new B(a,String(b),this.Ua);if(c){d.ra=c;var e;var f=arguments.callee.caller;try{var l;var v=ba("window.location.href");if(m(c))l={message:c,name:"Unknown error",lineNumber:"Not available",fileName:v,stack:"Not available"};else{var I,aa,D=!1;try{I=c.lineNumber||c.Ob||"Not available"}catch(N){I="Not available",D=!0}try{aa=c.fileName||c.filename||c.sourceURL||h.$googDebugFname||v}catch(mc){aa="Not available",D=!0}l=!D&&c.lineNumber&&c.fileName&&c.stack&&c.message&&
c.name?c:{message:c.message||"Not available",name:c.name||"UnknownError",lineNumber:I,fileName:aa,stack:c.stack||"Not available"}}e="Message: "+na(l.message)+'\nUrl: <a href="view-source:'+l.fileName+'" target="_new">'+l.fileName+"</a>\nLine: "+l.lineNumber+"\n\nBrowser stack:\n"+na(l.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+na(Pa(f)+"-> ")}catch($b){e="Exception trying to expose exception! You win, we lose. "+$b}d.qa=e}return d};var G=function(a,b,c){a.log(Ua,b,c)};
C.prototype.info=function(a,b){this.log(Wa,a,b)};var cb=function(a,b){a.log(Ya,b,void 0)},H=function(a,b){a.log(Za,b,void 0)},db={},eb=null,fb=function(){eb||(eb=new C(""),db[""]=eb,eb.ya(Xa))},J=function(a){fb();var b;if(!(b=db[a])){b=new C(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=J(a.substr(0,c));c.xa||(c.xa={});c.xa[d]=b;b.da=c;db[a]=b}return b};var gb=function(){};gb.prototype.Ta=!1;gb.prototype.G=function(){this.Ta||(this.Ta=!0,this.d())};var hb=function(a,b){a.V||(a.V=[]);a.V.push(n(b,void 0))};gb.prototype.d=function(){if(this.V)for(;this.V.length;)this.V.shift()()};var ib=function(a){a&&"function"==typeof a.G&&a.G()};var K=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.B=!1;this.Qa=!0};K.prototype.d=function(){};K.prototype.G=function(){};K.prototype.stopPropagation=function(){this.B=!0};K.prototype.preventDefault=function(){this.defaultPrevented=!0;this.Qa=!1};p("cast.receiver.VERSION","2.0.0");var L=J("cast");p("cast.receiver.logger",L);p("cast.receiver.LoggerLevel",{DEBUG:0,VERBOSE:400,INFO:800,ERROR:1E3,NONE:1500});L.Wa=function(a){L.ya(ab(a))};L.setLevelValue=L.Wa;L.Wa(1E3);var jb=function(){this.Va=fa()},kb=new jb;jb.prototype.set=function(a){this.Va=a};jb.prototype.reset=function(){this.set(fa())};jb.prototype.get=function(){return this.Va};var lb=function(a){this.rb=a||"";this.sb=kb};g=lb.prototype;g.tb=!0;g.La=!0;g.vb=!0;g.ub=!0;g.Ma=!1;g.wb=!1;var M=function(a){return 10>a?"0"+a:String(a)},mb=function(a,b){var c=(a.Pa-b)/1E3,d=c.toFixed(3),e=0;if(1>c)e=2;else for(;100>c;)e++,c*=10;for(;0<e--;)d=" "+d;return d},nb=function(a){lb.call(this,a)};q(nb,lb);var ob=function(){this.ob=n(this.Bb,this);this.ta=new nb;this.ta.La=!1;this.Ga=this.ta.Ma=!1;this.Ja="";this.pb={}};
ob.prototype.Bb=function(a){if(!this.pb[a.Oa]){var b;b=this.ta;var c=[];c.push(b.rb," ");if(b.La){var d=new Date(a.Pa);c.push("[",M(d.getFullYear()-2E3)+M(d.getMonth()+1)+M(d.getDate())+" "+M(d.getHours())+":"+M(d.getMinutes())+":"+M(d.getSeconds())+"."+M(Math.floor(d.getMilliseconds()/10)),"] ")}b.vb&&c.push("[",mb(a,b.sb.get()),"s] ");b.ub&&c.push("[",a.Oa,"] ");b.wb&&c.push("[",a.va().name,"] ");c.push(a.Ha);b.Ma&&a.ra&&c.push("\n",a.qa);b.tb&&c.push("\n");b=c.join("");if(c=pb)switch(a.va()){case Ta:qb(c,
"info",b);break;case Ua:qb(c,"error",b);break;case Va:qb(c,"warn",b);break;default:qb(c,"debug",b)}else window.opera?window.opera.postError(b):this.Ja+=b}};var pb=window.console,qb=function(a,b,c){if(a[b])a[b](c);else a.log(c)};var rb=function(a){rb[" "](a);return a};rb[" "]=function(){};var sb;(sb=!x)||(sb=x&&9<=Na);var tb=sb,ub=x&&!A("9");!y||A("528");Da&&A("1.9b")||x&&A("8")||Ca&&A("9.5")||y&&A("528");Da&&!A("8")||x&&A("9");var O=function(a,b){K.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.U=this.state=null;if(a){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(Da){var e;t:{try{rb(d.nodeName);e=!0;break t}catch(f){}e=!1}e||(d=null)}}else"mouseover"==
c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=y||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=y||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=
a.metaKey;this.state=a.state;this.U=a;a.defaultPrevented&&this.preventDefault()}};q(O,K);O.prototype.stopPropagation=function(){O.n.stopPropagation.call(this);this.U.stopPropagation?this.U.stopPropagation():this.U.cancelBubble=!0};O.prototype.preventDefault=function(){O.n.preventDefault.call(this);var a=this.U;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,ub)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};O.prototype.d=function(){};var vb="closure_listenable_"+(1E6*Math.random()|0),wb=function(a){try{return!(!a||!a[vb])}catch(b){return!1}},xb=0;var yb=function(a,b,c,d,e){this.w=a;this.ca=null;this.src=b;this.type=c;this.$=!!d;this.ba=e;this.key=++xb;this.J=this.aa=!1},zb=function(a){a.J=!0;a.w=null;a.ca=null;a.src=null;a.ba=null};var P=function(a){this.src=a;this.g={};this.S=0};P.prototype.add=function(a,b,c,d,e){var f=this.g[a];f||(f=this.g[a]=[],this.S++);var l=Ab(f,b,d,e);-1<l?(a=f[l],c||(a.aa=!1)):(a=new yb(b,this.src,a,!!d,e),a.aa=c,f.push(a));return a};P.prototype.remove=function(a,b,c,d){if(!(a in this.g))return!1;var e=this.g[a];b=Ab(e,b,c,d);return-1<b?(zb(e[b]),s(null!=e.length),ra.splice.call(e,b,1),0==e.length&&(delete this.g[a],this.S--),!0):!1};
var Bb=function(a,b){var c=b.type;if(c in a.g){var d=a.g[c],e=sa(d,b),f;if(f=0<=e)s(null!=d.length),ra.splice.call(d,e,1);f&&(zb(b),0==a.g[c].length&&(delete a.g[c],a.S--))}};P.prototype.wa=function(a,b,c,d){a=this.g[a];var e=-1;a&&(e=Ab(a,b,c,d));return-1<e?a[e]:null};var Ab=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.J&&f.w==b&&f.$==!!c&&f.ba==d)return e}return-1};var Cb="closure_lm_"+(1E6*Math.random()|0),Q={},Db=0,R=function(a,b,c,d,e){if("array"==k(b))for(var f=0;f<b.length;f++)R(a,b[f],c,d,e);else if(c=Eb(c),wb(a))f=c,Fb(a),a.r.add(String(b),f,!1,d,e);else{if(!b)throw Error("Invalid event type");var f=!!d,l=Gb(a);l||(a[Cb]=l=new P(a));d=l.add(b,c,!1,d,e);d.ca||(e=Hb(),d.ca=e,e.src=a,e.w=d,a.addEventListener?a.addEventListener(b,e,f):a.attachEvent(b in Q?Q[b]:Q[b]="on"+b,e),Db++)}},Hb=function(){var a=Ib,b=tb?function(c){return a.call(b.src,b.w,c)}:function(c){c=
a.call(b.src,b.w,c);if(!c)return c};return b},Jb=function(a,b,c,d,e){if("array"==k(b))for(var f=0;f<b.length;f++)Jb(a,b[f],c,d,e);else c=Eb(c),wb(a)?a.r.remove(String(b),c,d,e):a&&(a=Gb(a))&&(b=a.wa(b,c,!!d,e))&&Kb(b)},Kb=function(a){if("number"!=typeof a&&a&&!a.J){var b=a.src;if(wb(b))Bb(b.r,a);else{var c=a.type,d=a.ca;b.removeEventListener?b.removeEventListener(c,d,a.$):b.detachEvent&&b.detachEvent(c in Q?Q[c]:Q[c]="on"+c,d);Db--;(c=Gb(b))?(Bb(c,a),0==c.S&&(c.src=null,b[Cb]=null)):zb(a)}}},Mb=function(a,
b,c,d){var e=1;if(a=Gb(a))if(b=a.g[b])for(b=ta(b),a=0;a<b.length;a++){var f=b[a];f&&f.$==c&&!f.J&&(e&=!1!==Lb(f,d))}return Boolean(e)},Lb=function(a,b){var c=a.w,d=a.ba||a.src;a.aa&&Kb(a);return c.call(d,b)},Ib=function(a,b){if(a.J)return!0;if(!tb){var c=b||ba("window.event"),d=new O(c,this),e=!0;if(!(0>c.keyCode||void 0!=c.returnValue)){t:{var f=!1;if(0==c.keyCode)try{c.keyCode=-1;break t}catch(l){f=!0}if(f||void 0==c.returnValue)c.returnValue=!0}c=[];for(f=d.currentTarget;f;f=f.parentNode)c.push(f);
for(var f=a.type,v=c.length-1;!d.B&&0<=v;v--)d.currentTarget=c[v],e&=Mb(c[v],f,!0,d);for(v=0;!d.B&&v<c.length;v++)d.currentTarget=c[v],e&=Mb(c[v],f,!1,d)}return e}return Lb(a,new O(b,this))},Gb=function(a){a=a[Cb];return a instanceof P?a:null},Nb="__closure_events_fn_"+(1E9*Math.random()>>>0),Eb=function(a){s(a,"Listener can not be null.");if("function"==k(a))return a;s(a.handleEvent,"An object listener must have handleEvent method.");return a[Nb]||(a[Nb]=function(b){return a.handleEvent(b)})};var S=function(){this.r=new P(this);this.Cb=this};q(S,gb);S.prototype[vb]=!0;g=S.prototype;g.sa=null;g.addEventListener=function(a,b,c,d){R(this,a,b,c,d)};g.removeEventListener=function(a,b,c,d){Jb(this,a,b,c,d)};
g.dispatchEvent=function(a){Fb(this);var b,c=this.sa;if(c){b=[];for(var d=1;c;c=c.sa)b.push(c),s(1E3>++d,"infinite loop")}c=this.Cb;d=a.type||a;if(m(a))a=new K(a,c);else if(a instanceof K)a.target=a.target||c;else{var e=a;a=new K(d,c);wa(a,e)}var e=!0,f;if(b)for(var l=b.length-1;!a.B&&0<=l;l--)f=a.currentTarget=b[l],e=Ob(f,d,!0,a)&&e;a.B||(f=a.currentTarget=c,e=Ob(f,d,!0,a)&&e,a.B||(e=Ob(f,d,!1,a)&&e));if(b)for(l=0;!a.B&&l<b.length;l++)f=a.currentTarget=b[l],e=Ob(f,d,!1,a)&&e;return e};
g.d=function(){S.n.d.call(this);if(this.r){var a=this.r,b=0,c;for(c in a.g){for(var d=a.g[c],e=0;e<d.length;e++)++b,zb(d[e]);delete a.g[c];a.S--}}this.sa=null};var Ob=function(a,b,c,d){b=a.r.g[String(b)];if(!b)return!0;b=ta(b);for(var e=!0,f=0;f<b.length;++f){var l=b[f];if(l&&!l.J&&l.$==c){var v=l.w,I=l.ba||l.src;l.aa&&Bb(a.r,l);e=!1!==v.call(I,d)&&e}}return e&&!1!=d.Qa};S.prototype.wa=function(a,b,c,d){return this.r.wa(String(a),b,c,d)};var Fb=function(a){s(a.r,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")};var T=function(a,b){a&&a.info(b,void 0)};var Pb=function(a,b,c){if("function"==k(a))c&&(a=n(a,c));else if(a&&"function"==typeof a.handleEvent)a=n(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<b?-1:h.setTimeout(a,b||0)};var U=function(a,b){S.call(this);this.lb=void 0!==a?a:!0;this.ia=b||Qb;this.Z=this.ia(this.Q)};q(U,S);g=U.prototype;g.i=null;g.q=null;g.F=void 0;g.ja=!1;g.Q=0;var Rb=U.prototype,Sb=J("goog.net.WebSocket");Rb.a=Sb;var Qb=function(a){return Math.min(1E3*Math.pow(2,a),6E4)};g=U.prototype;
g.open=function(a,b){s(h.WebSocket,"This browser does not support WebSocket");s(!this.P(),"The WebSocket is already open");null!=this.D&&h.clearTimeout(this.D);this.D=null;this.q=a;(this.F=b)?(T(this.a,"Opening the WebSocket on "+this.q+" with protocol "+this.F),this.i=new WebSocket(this.q,this.F)):(T(this.a,"Opening the WebSocket on "+this.q),this.i=new WebSocket(this.q));this.i.onopen=n(this.nb,this);this.i.onclose=n(this.mb,this);this.i.onmessage=n(this.K,this);this.i.onerror=n(this.ga,this)};
g.close=function(){null!=this.D&&h.clearTimeout(this.D);this.D=null;this.i&&(T(this.a,"Closing the WebSocket."),this.ja=!0,this.i.close(),this.i=null)};g.send=function(a){s(this.P(),"Cannot send without an open socket");this.i.send(a)};g.P=function(){return!!this.i&&1==this.i.readyState};g.nb=function(){T(this.a,"WebSocket opened on "+this.q);this.dispatchEvent("d");this.Q=0;this.Z=this.ia(this.Q)};
g.mb=function(a){T(this.a,"The WebSocket on "+this.q+" closed.");this.dispatchEvent("a");this.i=null;if(this.ja)T(this.a,"The WebSocket closed normally."),this.q=null,this.F=void 0;else{var b=this.a;b&&G(b,"The WebSocket disconnected unexpectedly: "+a.data,void 0);this.lb&&(T(this.a,"Seconds until next reconnect attempt: "+Math.floor(this.Z/1E3)),this.D=Pb(n(this.open,this,this.q,this.F),this.Z,this),this.Q++,this.Z=this.ia(this.Q))}this.ja=!1};g.K=function(a){this.dispatchEvent(new Tb(a.data))};
g.ga=function(a){a=a.data;var b=this.a;b&&G(b,"An error occurred: "+a,void 0);this.dispatchEvent(new Ub(a))};g.d=function(){U.n.d.call(this);this.close()};var Tb=function(a){K.call(this,"c");this.message=a};q(Tb,K);var Ub=function(a){K.call(this,"b");this.data=a};q(Ub,K);var V=function(a,b){S.call(this);this.u=b;this.la=!0;this.I=a;this.onClose=this.onMessage=null;R(this.I,this.u,this.ua,!1,this)};q(V,S);p("cast.receiver.CastChannel",V);V.EventType={MESSAGE:"message",CLOSE:"close"};var Vb=function(a,b){K.call(this,a);this.message=b};q(Vb,K);V.Event=Vb;V.prototype.a=J("cast.receiver.CastChannel");V.prototype.s=function(){return"CastChannel["+this.u+" "+this.I.v()+"]"};V.prototype.v=function(){return this.I.v()};V.prototype.getNamespace=V.prototype.v;
V.prototype.Ib=function(){return this.u};V.prototype.getSenderId=V.prototype.Ib;V.prototype.ua=function(a){H(this.a,"Dispatching CastChannel message ["+this.I.v()+", "+this.u+"]: "+a.data);a=new Vb("message",a.data);if(this.onMessage)this.onMessage(a);this.dispatchEvent(a)};V.prototype.close=function(){if(this.la){this.la=!1;this.a.info("Closing CastChannel ["+this.I.v()+", "+this.u+"]");var a=new Vb("close",this.u);if(this.onClose)this.onClose(a);this.dispatchEvent(a);this.G()}};
V.prototype.send=function(a){if(!this.la)throw Error("Invalid state, socket not open");this.I.send(this.u,a)};V.prototype.send=V.prototype.send;V.prototype.d=function(){V.n.d.call(this);H(this.a,"Disposed "+this.s())};p("cast.receiver.system.NAMESPACE_PREFIX","urn:x-cast:");p("cast.receiver.system.ApplicationData",function(){this.name=this.id="";this.sessionId=0;this.namespaces=[];this.launchingSenderId=""});p("cast.receiver.system.Sender",function(){this.userAgent=this.id=""});var Wb=function(){S.call(this);this.j=null;var a=new U(!0);this.j&&this.j.G();this.j=a;hb(this,ea(ib,this.j));R(this.j,"d",this.Ab,!1,this);R(this.j,"a",this.zb,!1,this);R(this.j,"b",this.ga,!1,this);R(this.j,"c",this.K,!1,this)};q(Wb,S);var Xb=function(a,b,c){K.call(this,a);this.senderId=b;this.data=c};q(Xb,K);Wb.prototype.a=J("cast.receiver.IpcChannel");var Yb=function(a,b){cb(a.a,"IpcChannel "+b);a.dispatchEvent(new Xb("urn:x-cast:com.google.cast.system","SystemSender",JSON.stringify({type:b})))};
g=Wb.prototype;g.Ab=function(){Yb(this,"opened")};g.zb=function(){Yb(this,"closed")};g.ga=function(){Yb(this,"error")};g.K=function(a){cb(this.a,"Received message: "+a.message);var b=(a=JSON.parse(a.message))&&a.namespace;a&&b&&a.senderId&&a.data?this.dispatchEvent(new Xb(b,a.senderId,a.data)):G(this.a,"IpcChannel Message received is invalid")};g.open=function(){this.a.info("Opening message bus websocket");this.j.open("ws://localhost:8008/v2/ipc")};
g.close=function(){this.a.info("Closing message bus websocket");this.j.close()};g.P=function(){return this.j.P()};g.send=function(a,b,c){if(!this.P)throw Error("Underlying websocket is not open");a=JSON.stringify({namespace:a,senderId:b,data:c});cb(this.a,"IPC message sent: "+a);this.j.send(a)};g.d=function(){Wb.n.d.call(this);H(this.a,"Disposed IpcChannel")};var W=function(a,b,c,d){S.call(this);this.p=a;this.t=b;this.R=d||"STRING";this.onMessage=null;this.serializeMessage=this.yb;this.deserializeMessage=this.xb;this.e={};for(a=0;a<c.length;a++)this.e[c[a]]=null;R(this.t,this.p,this.ua,!1,this)};q(W,S);p("cast.receiver.CastMessageBus",W);W.MessageType={STRING:"STRING",JSON:"JSON",CUSTOM:"CUSTOM"};W.EventType={MESSAGE:"message"};var Zb=function(a,b,c){K.call(this,a);this.senderId=b;this.data=c};q(Zb,K);W.Event=Zb;W.prototype.a=J("cast.receiver.CastMessageBus");
W.prototype.s=function(){return"CastMessageBus["+this.p+"]"};W.prototype.v=function(){return this.p};W.prototype.getNamespace=W.prototype.v;W.prototype.Sa=function(){return this.R};W.prototype.getMessageType=W.prototype.Sa;
W.prototype.ua=function(a){H(this.a,"Dispatching CastMessageBus message ["+this.p+", "+a.senderId+"]: "+a.data);var b="STRING"==this.R?a.data:this.deserializeMessage(a.data);this.dispatchEvent(new Zb(a.senderId,a.senderId,b));a=new Zb("message",a.senderId,b);if(this.onMessage)this.onMessage(a);this.dispatchEvent(a)};W.prototype.send=function(a,b){if("STRING"==this.R){if(!m(b))throw Error("Wrong argument, CastMessageBus type is STRING");this.t.send(this.p,a,b)}else this.t.send(this.p,a,this.serializeMessage(b))};
W.prototype.send=W.prototype.send;W.prototype.Fa=function(a){this.send("*:*",a)};W.prototype.broadcast=W.prototype.Fa;W.prototype.Fb=function(a){if(a in this.e)return this.e[a]||(this.e[a]=new V(this,a)),this.e[a];throw Error("Requested a socket for a disconnected sender: "+a);};W.prototype.getCastChannel=W.prototype.Fb;W.prototype.yb=function(a){if("JSON"!=this.R)throw Error("Unexpected message type for JSON serialization");return JSON.stringify(a)};
W.prototype.xb=function(a){if("JSON"!=this.R)throw Error("Unexpected message type for JSON serialization");return JSON.parse(a)};W.prototype.d=function(){W.n.d.call(this);if(this.e){for(var a in this.e)this.e[a]&&this.e[a].close();this.e={}}H(this.a,"Disposed "+this.s())};var X=function(){S.call(this);if(this.Na=new ob){var a=this.Na;if(!0!=a.Ga){fb();var b=eb,c=a.ob;b.T||(b.T=[]);b.T.push(c);a.Ga=!0}}this.N=ua(ac);this.t=new Wb;this.o={};this.O=new W("urn:x-cast:com.google.cast.system",this.t,t(this.o),"JSON");hb(this,ea(ib,this.O));this.Ia=this.Y=!1;this.k={};this.onVisibilityChanged=this.onSystemVolumeChanged=this.onSenderDisconnected=this.onSenderConnected=this.onReady=null;R(this.O,"SystemSender",this.qb,!1,this)};q(X,S);
p("cast.receiver.CastReceiverManager",X);X.Da=function(){return X.ma?X.ma:X.ma=new X};X.getInstance=X.Da;X.EventType={READY:"ready",SHUTDOWN:"shutdown",SENDER_CONNECTED:"senderconnected",SENDER_DISCONNECTED:"senderdisconnected",ERROR:"error",SYSTEM_VOLUME_CHANGED:"systemvolumechanged",VISIBILITY_CHANGED:"visibilitychanged"};var Y=function(a,b){K.call(this,a);this.data=b};q(Y,K);X.Event=Y;X.Config=function(){this.maxInactivity=this.statusText=void 0};var ac={statusText:void 0,maxInactivity:10};
X.prototype.a=J("cast.receiver.CastReceiverManager");X.prototype.s=function(){return"CastReceiverManager"};X.prototype.start=function(a){if(a){if(!a)throw Error("Cannot validate undefined config.");if(void 0!=a.maxInactivity&&5>a.maxInactivity)throw Error("config.maxInactivity must be greater than or equal to 5 seconds.");wa(this.N,a||{})}this.Ia=!0;this.t.open()};X.prototype.start=X.prototype.start;X.prototype.stop=function(){this.G();window.close()};X.prototype.stop=X.prototype.stop;
X.prototype.Kb=function(){return this.Y};X.prototype.isSystemReady=X.prototype.Kb;X.prototype.Jb=function(){return t(this.o)};X.prototype.getSenders=X.prototype.Jb;X.prototype.Hb=function(a){return this.o[a]?ua(this.o[a]):null};X.prototype.getSender=X.prototype.Hb;X.prototype.Eb=function(){return this.ha};X.prototype.getApplicationData=X.prototype.Eb;X.prototype.Lb=function(a){if(this.Y){var b={type:"setappstate"};void 0!=a&&(b.statusText=a);this.O.send("SystemSender",b)}else this.N.statusText=a};
X.prototype.setApplicationState=X.prototype.Lb;X.prototype.Ca=function(a,b){if("urn:x-cast:com.google.cast.system"==a)throw Error("Protected namespace");if(0!=a.lastIndexOf("urn:x-cast:",0))throw Error("Invalid namespace prefix");if(!this.k[a]){if(this.Ia)throw Error("New namespaces can not be requested after start has been called");this.k[a]=new W(a,this.t,t(this.o),b);hb(this,ea(ib,this.k[a]))}if(b&&this.k[a].Sa()!=b)throw Error("Invalid messageType for the namespace");return this.k[a]};
X.prototype.getCastMessageBus=X.prototype.Ca;
X.prototype.qb=function(a){var b=a.data;H(this.a,"CastReceiverManager message received: "+a.data);switch(b.type){case "opened":this.a.info("Underlying message bus is open");var c=t(this.k),d=this.N.statusText;a={type:"ready"};d&&(a.statusText=d);a.activeNamespaces=c;a.version="2.0.0";a.messagesVersion="1.0";this.O.send("SystemSender",a);this.N.maxInactivity&&this.O.send("SystemSender",{type:"startheartbeat",maxInactivity:this.N.maxInactivity});break;case "closed":this.Y=!1;this.dispatchEvent("shutdown");
break;case "error":this.dispatchEvent("error");break;case "ready":this.ha={id:b.applicationId,name:b.applicationName,sessionId:b.sessionId,namespaces:t(this.k),launchingSenderId:b.launchingSenderId};this.Y=!0;this.a.info("Dispatching CastReceiverManager system ready event ["+this.ha+"]");c=new Y("ready",this.ha);if(this.onReady)this.onReady(c);this.dispatchEvent(c);break;case "senderconnected":d={id:b.senderId,userAgent:b.userAgent};this.a.info("Dispatching CastReceiverManager sender connected event ["+
d.id+"]");d.id in this.o&&G(this.a,"Unexpected connected message for already connected sender: "+d.id);this.o[d.id]=d;a=new Y("senderconnected",d.id);for(c in this.k){var b=this.k[c],e=d.id;e in b.e?G(b.a,"Unexpected sender already registered ["+b.p+", "+e+"]"):(b.a.info("Registering sender ["+b.p+", "+e+"]"),b.e[e]=null)}if(this.onSenderConnected)this.onSenderConnected(a);this.dispatchEvent(a);break;case "senderdisconnected":c=b.senderId;this.a.info("Dispatching sender disconnected event ["+c+"]");
if(c in this.o){delete this.o[c];a=new Y("senderdisconnected",c);for(d in this.k)b=this.k[d],e=c,e in b.e&&(b.a.info("Unregistering sender ["+b.p+", "+e+"]"),b.e[e]&&b.e[e].close(),delete b.e[e]);if(this.onSenderDisconnected)this.onSenderDisconnected(a);this.dispatchEvent(a)}else G(this.a,"Unknown sender disconnected: "+c);break;case "volumechanged":c={level:b.level,muted:b.muted};this.a.info("Dispatching system volume changed event ["+c.level+", "+c.muted+"]");c=new Y("systemvolumechanged",c);if(this.onSystemVolumeChanged)this.onSystemVolumeChanged(c);
this.dispatchEvent(c);break;case "visibilitychanged":c=b.visible;this.a.info("Dispatching visibility changed event "+c);c=new Y("visibilitychanged",c);if(this.onVisibilityChanged)this.onVisibilityChanged(c);this.dispatchEvent(c);break;default:throw Error("Unexpected message type: "+b.type);}};X.prototype.d=function(){X.n.d.call(this);delete X.ma;cb(this.a,"Disposed "+this.s())};p("cast.receiver.media.MEDIA_NAMESPACE","urn:x-cast:com.google.cast.media");p("cast.receiver.media.StreamType",{BUFFERED:"BUFFERED",LIVE:"LIVE",NONE:"NONE"});var bc={INVALID_PLAYER_STATE:"INVALID_PLAYER_STATE",LOAD_FAILED:"LOAD_FAILED",LOAD_CANCELLED:"LOAD_CANCELLED",INVALID_REQUEST:"INVALID_REQUEST"};p("cast.receiver.media.ErrorType",bc);p("cast.receiver.media.ErrorReason",{INVALID_COMMAND:"INVALID_COMMAND",INVALID_PARAMS:"INVALID_PARAMS",INVALID_MEDIA_SESSION_ID:"INVALID_MEDIA_SESSION_ID",DUPLICATE_REQUEST_ID:"DUPLICATE_REQUEST_ID"});
p("cast.receiver.media.IdleReason",{CANCELLED:"CANCELLED",INTERRUPTED:"INTERRUPTED",FINISHED:"FINISHED",ERROR:"ERROR"});p("cast.receiver.media.SeekResumeState",{Rb:"PLAYBACK_START",Qb:"PLAYBACK_PAUSE"});p("cast.receiver.media.PlayerState",{IDLE:"IDLE",PLAYING:"PLAYING",PAUSED:"PAUSED",BUFFERING:"BUFFERING"});var cc=function(){this.contentId="";this.streamType="NONE";this.contentType="";this.customData=this.duration=this.metadata=void 0};p("cast.receiver.media.MediaInformation",cc);
var dc=function(){this.muted=this.level=void 0};p("cast.receiver.media.Volume",dc);p("cast.receiver.media.MediaStatus",function(){this.mediaSessionId=0;this.media=void 0;this.playbackRate=1;this.playerState="IDLE";this.idleReason=void 0;this.supportedMediaCommands=this.currentTime=0;this.volume={level:0,muted:!1};this.customData=void 0});p("cast.receiver.media.Command",{PAUSE:1,SEEK:2,STREAM_VOLUME:4,STREAM_MUTE:8});var Z=function(a,b){S.call(this);this.X=X.Da().Ca("urn:x-cast:com.google.cast.media","JSON");this.fa=0;this.Xa=1;this.Ya=b||15;this.Aa=this.za=this.C=this.W=this.h=this.b=this.c=null;this.l=!1;this.ea=0;this.L=this.f=null;this.customizedStatusCallback=this.Za;this.onLoad=this.eb;this.onPlay=this.hb;this.onSeek=this.ib;this.onPause=this.gb;this.onStop=this.kb;this.onSetVolume=this.jb;this.onMetadataLoaded=this.fb;this.onLoadMetadataError=this.cb;this.onEnded=this.$a;this.onError=this.ab;this.onGetStatus=
this.bb;this.Ea(a);this.X.onMessage=this.K.bind(this);Pb(n(this.Ba,this),1E3)};q(Z,S);p("cast.receiver.MediaManager",Z);Z.EventType={LOAD:"load",STOP:"stop",PAUSE:"pause",PLAY:"play",SEEK:"seek",SET_VOLUME:"setvolume",GET_STATUS:"getstatus"};var $=function(a,b,c){K.call(this,a);this.data=b;this.senderId=c};q($,K);Z.Event=$;var ec=function(){this.requestId=0;this.mediaSessionId=void 0;this.customData=null};Z.RequestData=ec;var fc=function(){this.media=new cc;this.autoplay=!1;this.currentTime=0};
q(fc,ec);Z.LoadRequestData=fc;var gc=function(){this.volume=new dc};q(gc,ec);Z.VolumeRequestData=gc;q(gc,ec);Z.SeekRequestData=function(){this.resumeState=void 0;this.currentTime=0};q($,K);Z.LoadInfo=function(a,b){this.message=a;this.senderId=b};Z.prototype.a=J("cast.receiver.MediaManager");Z.prototype.s=function(){return"MediaManager"};Z.prototype.Gb=function(){return this.h};Z.prototype.getMediaInformation=Z.prototype.Gb;
Z.prototype.Nb=function(a,b,c){b=void 0==b||b;if(c&&!b)throw Error("No broadcast call but status customData has been provided");this.h=a;b&&this.m(!0,null,c)};Z.prototype.setMediaInformation=Z.prototype.Nb;
Z.prototype.K=function(a){var b=a.data;a=a.senderId;var c=b.type,d=b.requestId;if("number"==typeof d&&d==Math.floor(d))if(void 0!=b.mediaSessionId&&b.mediaSessionId!=this.fa||"LOAD"!=c&&"GET_STATUS"!=c&&("IDLE"==hc(this)||void 0==b.mediaSessionId))G(this.a,"Invalid media session ID: "+b.mediaSessionId),this.M(a,d,"INVALID_REQUEST","INVALID_MEDIA_SESSION_ID");else{H(this.a,"MediaManager message received ["+a+"] "+JSON.stringify(b));delete b.type;var e=null;switch(c){case "LOAD":this.a.info("Dispatching MediaManager load event");
if(b.media){this.f?this.ka("LOAD_CANCELLED"):this.h&&this.H("INTERRUPTED");this.f={senderId:a,message:b};this.ea=b.currentTime||0;this.h=b.media;this.fa++;b=new $("load",b,a);if(this.onLoad)this.onLoad(b);this.dispatchEvent(b);e=null}else G(this.a,"media is mandatory"),e={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"};break;case "GET_STATUS":this.a.info("Dispatching MediaManager getStatus event");b=new $("getstatus",b,a);if(this.onGetStatus)this.onGetStatus(b);this.dispatchEvent(b);e=null;break;
case "PLAY":this.a.info("Dispatching MediaManager play event");b=new $("play",b,a);if(this.onPlay)this.onPlay(b);this.dispatchEvent(b);e=null;break;case "SEEK":if(void 0==b.currentTime)G(this.a,"currentTime is mandatory"),e={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"};else{this.a.info("Dispatching MediaManager seek event");b=new $("seek",b,a);if(this.onSeek)this.onSeek(b);this.dispatchEvent(b);e=null}break;case "STOP":this.a.info("Dispatching MediaManager stop event");b=new $("stop",b,a);if(this.onStop)this.onStop(b);
this.dispatchEvent(b);e=null;break;case "PAUSE":this.a.info("Dispatching MediaManager pause event");b=new $("pause",b,a);if(this.onPause)this.onPause(b);this.dispatchEvent(b);e=null;break;case "SET_VOLUME":if(!b.volume||void 0==b.volume.level&&void 0==b.volume.muted)G(this.a,"volume is invalid"),e={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"};else if(void 0!=b.volume.level&&0>b.volume.level||1<b.volume.level)G(this.a,"volume level is invalid"),e={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"};
else{this.a.info("Dispatching MediaManager setvolume event");b=new $("setvolume",b,a);if(this.onSetVolume)this.onSetVolume(b);this.dispatchEvent(b);e=null}break;default:G(this.a,"Unexpected message type: "+c),e={type:bc.INVALID_COMMAND}}e&&(G(this.a,"Sending error: "+e.type+" "+e.reason),this.M(a,d,e.type,e.reason))}else G(this.a,"Ignoring request, requestId is not an integer: "+d)};
var hc=function(a){if(!a.h)return"IDLE";if(a.c){var b=a.c.getState();return"PLAYING"==b&&a.l?"BUFFERING":b}return a.b.paused?a.b.duration&&(a.b.currentTime||0==a.b.currentTime)&&a.b.duration!=a.b.currentTime?a.b.currentTime==a.ea&&a.b.autoplay?"BUFFERING":"PAUSED":"IDLE":a.l?"BUFFERING":"PLAYING"},ic=function(a,b,c){var d={type:"MEDIA_STATUS"};if(!a.h&&!a.W)return d.status=[],d;var e=a.c?a.c.getVolume():{level:a.b.volume,muted:a.b.muted},e={mediaSessionId:a.fa,playbackRate:a.Xa,playerState:hc(a),
currentTime:a.c?a.c.getCurrentTimeSec():a.b.currentTime,supportedMediaCommands:a.Ya,volume:e};b&&(e.media=a.h||a.W||void 0);a.h||(a.W=null);"IDLE"==e.playerState?a.L&&(e.idleReason=a.L):a.L=null;void 0!=c&&(e.customData=c);a.customizedStatusCallback?(a=a.customizedStatusCallback(e),null==a?d=null:d.status=[a]):d.status=[e];return d},jc=function(a){a.b&&(a.C=a.b.currentTime,a.za=a.b.currentTime,a.Aa=Date.now())};
Z.prototype.Ba=function(){Pb(n(this.Ba,this),1E3);if("IDLE"!=hc(this)&&"PAUSED"!=hc(this)){var a=this.C;this.C=this.c?this.c.getCurrentTimeSec():this.b.currentTime;var b=this.l;this.l=100>1E3*(this.C-a);b!=this.l?(H(this.a,"Buffering state changed, isPlayerBuffering: "+this.l+" old time: "+a+" current time: "+this.C),this.m(!1)):!this.l&&(a=1E3*(this.C-this.za)-(Date.now()-this.Aa),1E3<a||-1E3>a)&&(H(this.a,"Time drifted: "+a),this.m(!1))}};
Z.prototype.m=function(a,b,c){this.b||this.c?(H(this.a,"Sending broadcast status message"),a=ic(this,a,c),null!=a&&(a.requestId=b||0,this.X.Fa(a),jc(this))):G(this.a,"Not sending broadcast status message, state is invalid")};Z.prototype.broadcastStatus=Z.prototype.m;Z.prototype.Mb=function(a){H(this.a,"Setting IDLE reason: "+a);this.L=a};Z.prototype.setIdleReason=Z.prototype.Mb;
Z.prototype.M=function(a,b,c,d,e){this.a.info("Sending error message to "+a);var f={};f.requestId=b;f.type=c;d&&(f.reason=d);e&&(f.customData=e);this.X.send(a,f)};Z.prototype.sendError=Z.prototype.M;Z.prototype.Ka=function(a,b,c,d){this.b||this.c?(H(this.a,"Sending status message to "+a),c=ic(this,c,d),null!=c&&(c.requestId=b,this.X.send(a,c),jc(this))):(G(this.a,"State is invalid"),this.M(a,b,"INVALID_PLAYER_STATE",null,d))};Z.prototype.sendStatus=Z.prototype.Ka;Z.prototype.Za=function(a){return a};
Z.prototype.eb=function(a){var b=a.data;this.c?b.media&&b.media.contentId&&this.c.load(b.media.contentId,!!b.autoplay,b.currentTime):(this.b.autoplay=!1,b.media&&a.data.media.contentId&&(this.b.src=b.media.contentId),this.b.autoplay=void 0!=b.autoplay?b.autoplay:!0,this.b.load())};Z.prototype.Ea=function(a){a.getState?(this.b&&(kc(this),this.b=null),this.c!=a&&(kc(this),this.c=a,lc(this))):(this.c&&(kc(this),this.c=null),this.b!=a&&(kc(this),this.b=a,lc(this)))};Z.prototype.setMediaElement=Z.prototype.Ea;
var lc=function(a){a.c?(a.c.registerErrorCallback(a.oa.bind(a)),a.c.registerEndedCallback(a.na.bind(a)),a.c.registerLoadCallback(a.pa.bind(a))):(R(a.b,"loadedmetadata",a.pa,!1,a),R(a.b,"error",a.oa,!1,a),R(a.b,"ended",a.na,!1,a))},kc=function(a){a.c?(a.c.unregisterErrorCallback(),a.c.unregisterEndedCallback(),a.c.unregisterLoadCallback()):(Jb(a.b,"loadedmetadata",a.pa,!1,a),Jb(a.b,"error",a.oa,!1,a),Jb(a.b,"ended",a.na,!1,a))};
Z.prototype.pa=function(){if(this.f)if(this.a.info("Metadata loaded"),this.h&&(this.h.duration=this.c?this.c.getDurationSec():this.b.duration),this.l=!0,this.onMetadataLoaded)this.onMetadataLoaded(this.f);else this.f=null};Z.prototype.fb=function(a){a.message.currentTime&&this.b&&(this.b.currentTime=a.message.currentTime);this.Ra()};Z.prototype.oa=function(a){if(this.f)if(G(this.a,"Load metadata error"),this.onLoadMetadataError)this.onLoadMetadataError(this.f);else this.f=null;else if(this.onError)this.onError(a)};
Z.prototype.ka=function(a,b){this.f?(this.M(this.f.senderId,this.f.message.requestId,a||"LOAD_FAILED",null,b),this.f=null):G(this.a,"Not sending LOAD error as there is no on going LOAD request")};Z.prototype.sendLoadError=Z.prototype.ka;Z.prototype.Ra=function(a){this.f?(this.m(!0,this.f.message.requestId,a),this.f=null):G(this.a,"Not sending status as there is no on going LOAD request")};Z.prototype.sendLoadComplete=Z.prototype.Ra;g=Z.prototype;g.ab=function(){this.H("ERROR")};
g.cb=function(){this.H("ERROR",!1);this.ka("LOAD_FAILED")};g.na=function(){if(this.onEnded)this.onEnded()};g.$a=function(){this.H("FINISHED")};g.bb=function(a){H(this.a,"onGetStatus");this.Ka(a.senderId,a.data.requestId,!0)};g.hb=function(a){H(this.a,"onPlay");this.c?this.c.play():this.b.play();this.m(!1,a.data.requestId)};
g.ib=function(a){a=a.data;H(this.a,"onSeek: "+JSON.stringify(a));this.c?(this.c.seek(a.currentTime,a.resumeState),"PAUSED"!=this.c.getState()&&(this.l=!0)):(this.b.currentTime=a.currentTime,"PLAYBACK_START"==a.resumeState&&this.b.paused?this.b.play():"PLAYBACK_PAUSE"!=a.resumeState||this.b.paused||this.b.pause(),this.b.paused||(this.l=!0));this.m(!1,a.requestId)};g.kb=function(a){this.H("CANCELLED",!0,a.data.requestId)};
g.H=function(a,b,c,d){b=void 0==b||b;if((d||c)&&!b)throw Error("customData and requestId should only be provided in broadcast mode");this.h?(this.c?this.c.reset():(this.a.info("Resetting media element"),this.b.removeAttribute("src"),this.ea=0,this.b.load()),a&&(this.L=a),this.W=this.h,this.h=null,b&&this.m(!1,c,d)):this.a.info("Nothing to reset, Media is already null")};Z.prototype.resetMediaElement=Z.prototype.H;Z.prototype.gb=function(a){this.c?this.c.pause():this.b.pause();this.m(!1,a.data.requestId)};
Z.prototype.jb=function(a){a=a.data;this.c?this.c.setVolume(a.volume):(void 0!=a.volume.level&&(this.b.volume=a.volume.level),void 0!=a.volume.muted&&(this.b.muted=a.volume.muted));this.m(!1,a.requestId)};Z.prototype.d=function(){Z.n.d.call(this);H(this.a,"Disposed "+this.s())};}).call(window);
